(this.webpackJsonpcm_front=this.webpackJsonpcm_front||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/VIPAlarm.d3e7bccd.mp3"},function(e,t,a){e.exports=a(28)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),i=(a(12),a(2)),s=a(1),o=(a(13),a(14),function(e){var t=e.agent,a=e.size,n=e.censor,c=new Date(1e3*t.Duration).toISOString().substr(11,8),l="biggest"===a?30:12,i=n?t.AgentFirstName:t.AgentName.substr(0,l);return r.a.createElement("div",{className:"agent",id:t.status},r.a.createElement("div",{className:"agent-name"},i),r.a.createElement("div",{className:"agent-status"},c," ",t.Reason))}),u=function(e){var t,a=e.agents,n=e.censor,c=(t=a.length)<5?"biggest":t<11?"big":"normal",l=a.map((function(e,t){return r.a.createElement(o,{key:t,agent:e,size:c,censor:n})}));return r.a.createElement("div",{className:"agent-grid ".concat(c),id:"content"},l)},m=(a(15),function(e){var t=e.idStatus,a=e.idNumber,n=e.status,c=e.count;return r.a.createElement("div",{className:"agent-count"},r.a.createElement("div",{className:"status",id:t},n),r.a.createElement("div",{className:"number",id:a},c))}),d=function(e){var t=e.statusCount;return r.a.createElement("div",{className:"agent-header"},r.a.createElement(m,{idStatus:"center",idNumber:"left",status:"FREE: ",count:t.free}),r.a.createElement(m,{idStatus:"center",idNumber:"left",status:"CALL: ",count:t.call}),r.a.createElement(m,{idStatus:"center",idNumber:"left",status:"BUSY: ",count:t.busy}),r.a.createElement(m,{idStatus:"center",idNumber:"left",status:"TOTAL: ",count:t.total}))},v=["J\xc4LKIKIRJAUS","PUHELU (Sis\xe4\xe4n)","PUHELU (Ulos)","S\xc4HK\xd6POSTI (Sis\xe4\xe4n)","S\xc4HK\xd6POSTI (Ulos)","WRAPUP TIME","CALL (In)","CALL (Out)"],E=["Login","Sis\xe4\xe4nkirjaus"],f=function(e){var t=e.agents,a=e.censor,n=E,c=v,l=t.reduce((function(e,t){return e.total++,n.includes(t.Reason)?(e.free++,t.status="free",e):c.includes(t.Reason)?(e.call++,t.status="call",e):(t.status="busy",e.busy++,e)}),{free:0,call:0,busy:0,total:0}),i=0!==t.length?"":"NO AGENTS ONLINE";return r.a.createElement("div",{className:"agent-section"},r.a.createElement("div",{className:"agent-container"},r.a.createElement(d,{statusCount:l}),r.a.createElement("div",{className:"agent-list"},r.a.createElement(u,{agents:t,censor:a}),r.a.createElement("div",{className:"agent-background"},i))))},S=(a(16),a(17),function(e){var t=e.item,a=t.MaxQueueTime,n=Math.floor(a/3600),c=Math.floor(a/60)-60*n,l=a-60*c-3600*n,i="PBX"===t.ContactType?function(e){return e<120?"green":e<600?"yellow":"red"}(a):"email";return r.a.createElement("div",{className:"queue-row"},r.a.createElement("div",{className:"service-name"},t.ServiceName),r.a.createElement("div",{className:"service-channel",id:i},"PBX"===t.ContactType?"CALL":t.ContactType),r.a.createElement("div",{className:"service-length",id:i},t.QueueLength),r.a.createElement("div",{className:"service-time",id:i},n<10?"0".concat(n):n,":",c<10?"0".concat(c):c,":",l<10?"0".concat(l):l))}),g=(a(18),a(6)),h=a.n(g),A=function(e){var t=e.startTime,a=Object(n.useState)(t),c=Object(s.a)(a,2),l=c[0],i=c[1];if(Object(n.useEffect)((function(){setTimeout((function(){i(l+1)}),1e3)}),[l]),l>20){var o=new Date(1e3*(l-20)).toISOString().substr(11,8);return r.a.createElement("div",{className:"timer red"},"-",o)}var u=new Date(1e3*(20-l)).toISOString().substr(11,8);return r.a.createElement("div",{className:"timer blue"},u)},b=function(e){e.count;var t=e.callShown,a=Object(n.useState)("alarm-yellow"),c=Object(s.a)(a,2),l=c[0],i=c[1],o="alarm-yellow"!==l?"alarm-yellow":"alarm-white";return Object(n.useEffect)((function(){setTimeout((function(){i(o)}),1e3)}),[o]),r.a.createElement("div",{className:"vip-alarm-modal ".concat(l)},r.a.createElement("audio",{src:h.a,autoPlay:!0,loop:!0}),r.a.createElement("div",null,"VIP CALL"),r.a.createElement("div",{className:"call-name"},t.ServiceName),r.a.createElement(A,{startTime:t.MaxQueueTime}))},N=function(e){var t=e.vipCalls;if(0===t.length)return null;var a=t.length,n=t[0];return r.a.createElement(b,{count:a,callShown:n})},O=(a(19),function(){return r.a.createElement("div",{className:"medium-alarm-header"},r.a.createElement("div",null,"MEDIUM ALARM CALLS:"))}),p=function(e){var t=e.ServiceName,a=e.MaxQueueTime,n=new Date(1e3*a).toISOString().substr(11,8),c="";return c=t.length>14?t.substr(0,14)+"...":t,r.a.createElement("div",{className:"medium-alarm-row"},r.a.createElement("div",null,c),r.a.createElement("div",null),r.a.createElement("div",null,n))},T=function(e){var t=e.mediumAlarmCalls.map((function(e,t){return r.a.createElement(p,{key:t,ServiceName:e.ServiceName,MaxQueueTime:e.MaxQueueTime})}));return r.a.createElement("div",{className:"medium-alarm-modal"},r.a.createElement(O,null),t)},I=function(e){var t=e.mediumAlarmCalls;return 0===t.length?null:r.a.createElement(T,{mediumAlarmCalls:t})},w=(a(20),function(){return r.a.createElement("div",{className:"queue-header"},r.a.createElement("div",{className:"header-name"},"SERVICE NAME"),r.a.createElement("div",{className:"header-channel"},"TYPE"),r.a.createElement("div",{className:"header-length"},"#"),r.a.createElement("div",{className:"header-time"},"WAIT"))}),L=function(e,t){return e.MaxQueueTime<t.MaxQueueTime?1:e.MaxQueueTime>t.MaxQueueTime?-1:0},C=function(e){return e.map((function(e,t){return r.a.createElement(S,{key:t,item:e})}))},P=function(e){var t=e.queue,a=e.activeAlarms,n=[],c=[];t&&(n=t.filter((function(e){return"PBX"!==e.ContactType})).sort(L),c=t.filter((function(e){return"PBX"===e.ContactType})).sort(L));var l=0!==n.length?"":"NO EMAILS",i=0!==c.length?"":"NO CALLS",s=c.filter((function(e){return 1===a[e.ServiceId]})),o=c.filter((function(e){return 2===a[e.ServiceId]}));return r.a.createElement("div",{className:"queue-section"},r.a.createElement("div",{className:"queue-container"},r.a.createElement(w,null),r.a.createElement("div",{className:"call-list"},r.a.createElement("div",{className:"list-background "},r.a.createElement("h1",null,i)),r.a.createElement("div",null,C(c))),r.a.createElement("div",{className:"email-list"},r.a.createElement("div",{className:"list-background "},r.a.createElement("h1",null,l)),r.a.createElement("div",null,C(n))),r.a.createElement(I,{mediumAlarmCalls:s}),r.a.createElement(N,{vipCalls:o})))},y=function(e,t){var a=e.reduce((function(e,a){return t.includes(a.ServiceId)&&(e.Answered+=a.ProcessedPieces,e.Received+=a.ContactsPieces),e}),{Answered:0,Received:0}),n="".concat(a.Answered,"/").concat(a.Received),r="".concat(Math.round(a.Answered/a.Received*100)," %");return{stats:n,ratio:"NaN %"!==r?r:"100 %"}},M=function(e,t,a){var n=function(e){var t="ALL TEAMS"!==e?"ALL ".concat(e):"ALL TEAMS";return a.find((function(e){return e.AgentName===t})).ServiceIds};if(t.includes("ALL TEAMS"))return y(e,n("ALL TEAMS"));var r=[];return t.forEach((function(e){var t=n(e);r.push.apply(r,Object(i.a)(t))})),y(e,r)},j=(a(21),function(e){var t=e.type,a=e.stats;return r.a.createElement("div",{className:"stats-count"},r.a.createElement("div",null,t,": ",a.stats),r.a.createElement("div",null,a.ratio))}),R=function(e){e.type;var t=e.name,a=e.statsPBX,n=e.statsEmail;return r.a.createElement("div",{className:"stats-row"},r.a.createElement("div",null,t),r.a.createElement(j,{type:"Calls",stats:a}),r.a.createElement(j,{type:"Emails",stats:n}))},U=function(e){var t=e.activeTeamProfiles,a=e.activeTeam,n=e.teams,c=e.report,l="NONE",i="0/0",s="0/0";return 0!==n.length&&c&&0!==c.reportPBX.length&&0!==t.length&&(i=M(c.reportPBX,a,t),s=M(c.reportEmail,a,t),l=a.length>1?"".concat(a[0]," +").concat(a.length-1):a[0]),r.a.createElement("div",{className:"statistics"},r.a.createElement(R,{type:"Team",name:l,statsPBX:i,statsEmail:s}))},k=(a(22),function(e,t){return 0===t.length||0===e.length?[]:t.find((function(e){return"ALL TEAMS"===e.TeamName})).Profiles.filter((function(t){return e.includes(t.AgentId)}))}),D=function(e,t){if(0===t.length||0===e.length)return[];return k(e,t).reduce((function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(t.ServiceIds))}),[])},F=function(e,t){return 0===e.length||0===t.length?[]:e.filter((function(e){return t.includes(e.ServiceId)}))},x=function(e,t){var a=t[e];return void 0===a?0:a},B=F,Q=function(e,t){var a=[];return e.forEach((function(e){var n;a.push.apply(a,Object(i.a)((n=e,0===t.length?[]:t.find((function(e){return e.TeamName===n})).Profiles)))})),a},V=D,H=k,X=function(e,t,a){var n=D(t,a);return e.filter((function(e){return n.includes(e.ServiceId)}))},_=function(e,t){return t.includes("ALL TEAMS")?e:e.filter((function(e){return t.includes(e.Team)}))},q=function(e){var t=e.list,a=e.column,c=e.type,l=e.header,i=Object(n.useState)(""),o=Object(s.a)(i,2),u=o[0],m=o[1],d=t?t.filter((function(e){return e.props.children.toLowerCase().includes(u.toLowerCase())})):t,v={gridColumn:a};return r.a.createElement("div",{className:"modal-list",style:v},r.a.createElement("div",{className:"modal-title"},r.a.createElement("h3",null,c),r.a.createElement("h3",null,l),"Search: ",r.a.createElement("input",{value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",{className:"modal-search"},d))},J=function(e){var t=e.activeTeamProfiles,a=e.activeTeam,n=e.teamsList,c=e.changeTeam,l=e.activeProfileId,i=e.changeProfile,s=e.showModal,o=H(l,n),u=n?n.map((function(e,t){return r.a.createElement("button",{id:(n=e.TeamName,a.includes(n)?"Selected":"Unselected"),key:t,onClick:function(){return c(e.TeamName)}},e.TeamName);var n})):[],m=function(e){return l.includes(e.AgentId)?"Selected":"Unselected"},d=function(e,t){return e.sort((function(e,a){return t.includes(e.AgentId)?-1:t.includes(a.AgentId)?1:"ALL TEAMS"===e.AgentName?-1:"ALL TEAMS"===a.AgentName?1:e.AgentName<a.AgentName?-1:1}))}(t,l).map((function(e,t){return r.a.createElement("button",{id:m(e),key:t,onClick:function(){return i(e.AgentId)}},e.AgentName)})),v=s?"show":"hide",E=0===a.length?"NONE":a.length>1?"".concat(a[0]," +").concat(a.length-1):a[0],f=0===o.length?"NONE":o.length>1?"".concat(o[0].AgentName," +").concat(o.length):o[0].AgentName;return r.a.createElement("div",{className:"modal-box",id:v},r.a.createElement(q,{list:u,column:1,type:"TEAM:",header:E}),r.a.createElement(q,{list:d,column:2,type:"PROFILE:",header:f}))},K=(a(23),function(e){var t=e.showHelp?"show":"hide",a=window.localStorage.getItem("serverVersion");return r.a.createElement("div",{className:"help-modal",id:t},r.a.createElement("p",null,r.a.createElement("b",null,' "CHOOSE FILTERS"')," button:",r.a.createElement("br",null),"- Use it to select different filters for the CALL and EMAIL queues, and the Agents shown.",r.a.createElement("br",null),"- Selected PROFILE's determine the QUEUE filter. - Selected TEAM's determine the AGENT filter.",r.a.createElement("br",null),r.a.createElement("br",null),"Filter selection clarity will be improved in future."),r.a.createElement("p",null,r.a.createElement("b",null,'"REMOVE FILTERS"')," button:",r.a.createElement("br",null),"- Use it to remove all selected filters."),r.a.createElement("p",null,r.a.createElement("b",null,'"SERVICE ALARMS"')," button:",r.a.createElement("br",null),'- Shows all active service channels (takes ~3seconds to update). Your "CHOOSE FILTERS" --\x3e PROFILE\'s determine these.',r.a.createElement("br",null),"- All services shown here will be shown in QUEUE if an email or call comes from it.",r.a.createElement("br",null),r.a.createElement("br",null),"You can choose the alarm level of the CALLS of each service (emails not affected).",r.a.createElement("br",null),"- NORMAL alarm is the default level - it is shown only in CALL section.",r.a.createElement("br",null),"- MEDIUM alarm will show the call as a separate larger RED box.",r.a.createElement("br",null),"- VIP alarm will trigger a screen wide flasing display with 20 second countdown and sound alarm.",r.a.createElement("br",null),r.a.createElement("i",null,"*NOTE for sound to work you need to allow autoplay in browser/click it once/use Chrome for less issues")),r.a.createElement("p",null,r.a.createElement("b",null,' "CENSOR"')," button:",r.a.createElement("br",null),"- Hides shows only 1st letter of Service Names and hides lastnames of Agents."),r.a.createElement("p",null,r.a.createElement("b",null,'"ERROR MESSAGE/LIGHT"'),":",r.a.createElement("br",null),"- The status light is green when connection is good and everything is working.",r.a.createElement("br",null),"- The status light is yellow when the browser cannot connect to the server. Either you need to change your connection or the server is down.",r.a.createElement("br",null),"- The status light is red when the server cannot connect to the database. Contact admin."),r.a.createElement("p",null,"version: ",a))}),G=(a(24),function(e){var t=e.error,a=200===t.status?"green":503===t.status?"yellow":"red",n="",c="Connection normal";return 200!==t.status&&(n="CONNECTION PROBLEMS",503===t.status&&(c="Server connection problems!"),502===t.status&&(c="Database connection problems!")),r.a.createElement("div",{className:"error-board"},r.a.createElement("div",{className:"error-status"},r.a.createElement("button",{id:a}),r.a.createElement("div",{className:"error-explain",id:"message".concat(a)},"Connection status: ",t.status,r.a.createElement("br",null),c)),r.a.createElement("div",{className:"error-message",id:"message".concat(a)},n))}),Y=a(3),W=(a(25),function(e){var t=e.ServiceAlarmType,a=e.changeAlarmsButtonFunc,n=function(e){var t={0:"Unselected",1:"Unselected",2:"Unselected"};return t[e]="Selected",t}(t);return r.a.createElement("div",null,r.a.createElement("button",{id:n[0],onClick:function(){a(0)}},"Normal Alarm"),r.a.createElement("button",{id:n[1],onClick:function(){a(1)}},"Medium Alarm"),r.a.createElement("button",{id:n[2],onClick:function(){a(2)}},"VIP Alarm"))}),z=function(e){var t=e.ServiceName,a=e.ServiceId,n=e.ServiceAlarmType,c=e.activeAlarms,l=e.setActiveAlarms;return r.a.createElement("div",{className:"service-modal-item"},r.a.createElement("div",null,t," "),r.a.createElement("div",null,a," "),r.a.createElement("div",null),r.a.createElement(W,{ServiceAlarmType:n,changeAlarmsButtonFunc:function(e){return function(e,t,a,n){var r=function(e,t,a){return 0===t?(delete a[e],Object(Y.a)({},a)):(a[e]=t,Object(Y.a)({},a))}(e,t,a);window.localStorage.setItem("activeAlarms",JSON.stringify(r)),n(r)}(a,e,c,l)}}))},Z=function(e){var t=e.completeActiveServices,a=e.activeAlarms,c=e.setActiveAlarms,l=Object(n.useState)(""),i=Object(s.a)(l,2),o=i[0],u=i[1],m=(0===t.length?[]:t.filter((function(e){return t=e.ServiceName,a=o,t.toLocaleLowerCase().includes(a.toLocaleLowerCase());var t,a}))).map((function(e,t){return r.a.createElement(z,{key:t,ServiceName:e.ServiceName,ServiceId:e.ServiceId,ServiceAlarmType:e.AlarmType,activeAlarms:a,setActiveAlarms:c})}));return r.a.createElement("div",{className:"service-modal-list"},r.a.createElement("div",{className:"service-modal-title"},r.a.createElement("h3",null,"TAKES ~3 SECONDS TO UPDATE"),"Search: ",r.a.createElement("input",{value:o,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",{className:"service-modal-search"},r.a.createElement("div",{className:"service-modal-item"},r.a.createElement("div",null,"Service Name "),r.a.createElement("div",null,"Service ID "),r.a.createElement("div",null),r.a.createElement("div",null,"ALARM TYPES")),m))},$=function(e){var t=e.services,a=e.showModal,n=e.activeServiceIds,c=e.activeAlarms,l=e.setActiveAlarms;if(!a)return null;var i=function(e,t){var a=[];return e.forEach((function(e){var n={ServiceName:e.ServiceName,ServiceId:e.ServiceId,AlarmType:x(e.ServiceId,t)};a.push(n)})),a}(B(t,n),c),s=a?"show":"hide";return r.a.createElement("div",{className:"service-modal-box",id:s},r.a.createElement(Z,{completeActiveServices:i,activeAlarms:c,setActiveAlarms:l}))},ee=(a(26),function(e){var t=e.OptItems,a=Object(n.useState)(!1),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),m=u[0],d=u[1],v=Object(n.useState)(!1),E=Object(s.a)(v,2),f=E[0],S=E[1],g=function(e){return e?"Selected":"Unselected"},h=t.censor?"On":"OFF",A=Q(t.activeTeam,t.teams),b=V(t.activeProfileId,t.teams);return r.a.createElement("div",{className:"options-section"},r.a.createElement(J,{activeTeamProfiles:A,activeTeam:t.activeTeam,teamsList:t.teams,changeTeam:t.changeTeam,activeProfileId:t.activeProfileId,changeProfile:t.changeProfile,showModal:l}),r.a.createElement(K,{showHelp:m}),r.a.createElement($,{services:t.services,showModal:f,activeServiceIds:b,activeAlarms:t.activeAlarms,setActiveAlarms:t.setActiveAlarms}),r.a.createElement("div",{className:"buttons-container"},r.a.createElement("button",{id:g(l),onClick:function(){return i(!l)}},"CHOOSE FILTERS"),r.a.createElement("button",{id:"Unselected",onClick:function(){t.changeTeam("")}},"REMOVE FILTERS"),r.a.createElement("button",{id:g(f),onClick:function(){return S(!f)}},"SERVICE ALARMS"),r.a.createElement("button",{id:g(t.censor),onClick:t.setCensor},"CENSOR: ",h),r.a.createElement("button",{id:g(m),onClick:function(){return d(!m)}},"HELP"),r.a.createElement(G,{error:t.connectionStatus})),r.a.createElement(U,{activeTeamProfiles:A,activeTeam:t.activeTeam,teams:t.teams,report:t.report}))}),te=(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_BACKEND_URL:"http://localhost:3001/api"}).REACT_APP_BACKEND_ORIGIN,"".concat("http://localhost:3001/api","/push")),ae=function(){return new EventSource("".concat(te,"/dataUpdates"))},ne=function(){return new EventSource("".concat(te,"/teamUpdates"))},re=function(e){var t=[];return e.forEach((function(e){var a,n={ServiceId:e.ServiceId,ServiceName:(a=e.ServiceName,a[0]),ContactType:e.ContactType,MaxQueueTime:e.MaxQueueTime,QueueLength:e.QueueLength};t.push(n)})),t},ce=function(e,t){return e.forEach((function(e){var a=t.find((function(t){return t.AgentId===e.AgentId}));e.AgentFirstName=a.AgentFirstName})),e},le=(a(27),function(){var e=window.localStorage.getItem("activeProfileId");return e?e.split(",").map((function(e){return parseInt(e)})):[]}),ie=function(){var e=window.localStorage.getItem("activeTeam");return e?e.split(","):[]},se=function(){var e=window.localStorage.getItem("activeAlarms");return void 0!==e&&e?JSON.parse(e):{}},oe=function(){var e=Object(n.useState)(ie),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(le),o=Object(s.a)(l,2),u=o[0],m=o[1],d=Object(n.useState)(se),v=Object(s.a)(d,2),E=v[0],S=v[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),A=h[0],b=h[1],N=Object(n.useState)([]),O=Object(s.a)(N,2),p=O[0],T=O[1],I=Object(n.useState)([]),w=Object(s.a)(I,2),L=w[0],C=w[1],y=Object(n.useState)([]),M=Object(s.a)(y,2),j=M[0],R=M[1],U=Object(n.useState)(""),k=Object(s.a)(U,2),D=k[0],F=k[1],x=Object(n.useState)([]),B=Object(s.a)(x,2),Q=B[0],V=B[1],H=Object(n.useState)({status:200,errorStart:""}),q=Object(s.a)(H,2),J=q[0],K=q[1],G=Object(n.useState)(200),Y=Object(s.a)(G,2),W=Y[0],z=Y[1],Z=function(e){var t=function(e){window.localStorage.setItem("activeProfileId",e.toString()),m(e)};if(""!==e){if(u.includes(1))return 1===e?void t([]):void t([e]);if(1!==e)t(u.includes(e)?u.filter((function(t){return t!==e})):[].concat(Object(i.a)(u),[e]));else t([e])}else t([])};Object(n.useEffect)((function(){!function(e,t,a){t.status!==e&&a({status:e,time:(new Date).toISOString()})}(W,J,K)}),[W,J]),Object(n.useEffect)((function(){!function e(t,a){var n=ne();n.onopen=function(e){var t=(new Date).toISOString().substr(11,8);console.log("teamUpdates OPEN:",t)},n.onerror=function(r){var c=(new Date).toISOString().substr(11,8);console.log("teamUpdates ERROR: ",c),n.close(),setTimeout((function(){return e(t,a)}),1e4)},n.onmessage=function(e){var n=JSON.parse(e.data);if(200===n.status){var r=window.localStorage.getItem("serverVersion");r&&r!==n.serverVersion&&(console.log("New version available",n.serverVersion,"old version:",r),setTimeout((function(){window.location.reload(!0)}),5e3)),window.localStorage.setItem("serverVersion",n.serverVersion),t(n.teams),a(n.services)}else{var c=(new Date).toISOString().substr(11,8);console.log("TEAM UPDATE FAILED",n.status,c)}}}(R,V),function e(t,a,n,r){var c=ae();c.onopen=function(e){var t=(new Date).toISOString().substr(11,8);console.log("dataUpdates OPEN:",t)},c.onerror=function(l){var i=(new Date).toISOString().substr(11,8);console.log("dataUpdates ERROR: ",i),r(503),c.close(),setTimeout((function(){return e(t,a,n,r)}),1e4)},c.onmessage=function(e){var c=JSON.parse(e.data);if(200!==c.status){var l=(new Date).toISOString();return r(c.status),void console.log("TEAM UPDATE FAILED",c.status,l)}var i={reportPBX:c.reportPBX,reportEmail:c.reportEmail};t(c.queue),a(c.agentsOnline),n(i),r(200)}}(T,C,F,z)}),[]);var $=function(e,t,a,n){if(!t||0===t.length||0===e.length||0===n.length)return[];try{var r=_(t,e).sort((function(e,t){return e.AgentName<t.AgentName?-1:1}));if(a){var c=n.find((function(e){return"ALL TEAMS"===e.TeamName})).Profiles;return ce(r,c)}return r}catch(l){return console.log("a",e,"b",t,"c",a,"d",n),console.error("Wild AgentSorting error",l),[]}}(a,L,A,j),te=function(e,t,a,n){try{if(0===t.length||0===e.length||0===a.length)return[];var r=X(e,t,a);return n?re(r):r}catch(c){return console.error("QueueProfile error:",t,c),e}}(p,u,j,A),oe={activeTeam:a,teams:j,changeTeam:function(e){var t=function(e){window.localStorage.setItem("activeTeam",e.toString()),c(e)};if(""===e)return Z(""),void t([]);if(a.includes("ALL TEAMS"))return"ALL TEAMS"===e?void t([]):void t([e]);"ALL TEAMS"!==e?t(a.includes(e)?a.filter((function(t){return t!==e})):[].concat(Object(i.a)(a),[e])):t([e])},activeProfileId:u,changeProfile:Z,services:Q,censor:A,setCensor:function(){return b(!A)},report:D,connectionStatus:J,activeAlarms:E,setActiveAlarms:S};return r.a.createElement("div",{className:"main"},r.a.createElement(P,{queue:te,activeAlarms:E}),r.a.createElement(f,{agents:$,censor:A}),r.a.createElement(ee,{OptItems:oe}))};l.a.render(r.a.createElement(oe,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.93dc9578.chunk.js.map